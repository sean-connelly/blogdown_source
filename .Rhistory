addCircles(data = garfield_point,stroke = T,weight = 2,color = "#FFFFFF",
radius = 25,fill = T,fillOpacity = 1,fillColor = "#38A800") %>%
addPolylines(data = garfield_line,stroke = T,weight = 5,color = "#38A800") %>%
addPolygons(data = garfield_clip,stroke = T,weight = 2,color = "#FFFFFF",fill = F) %>%
#Violent Crime
addPolygons(data = violent_crime_hot_spot,stroke = T,weight = 1,color = "#000000",
fill = T,fillColor = ~color,fillOpacity = 1,group = "Violent Crime - Hot Spot") %>%
addLabelOnlyMarkers(data = vc_centers,lng = ~x, lat = ~y, label = ~label,group = "Violent Crime - Hot Spot",
labelOptions = labelOptions(noHide = T,direction = "top",textOnly = T)) %>%
#Legend
#addLegend(land_use,group = "Land Use",position = "bottomright") %>%
#Layers control
addLayersControl(overlayGroups = c("Land Use", "Vacant Land","Violent Crime - Hot Spot"),
options = layersControlOptions(collapsed = F))
leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
setView(lng = -87.618431,lat = 41.794871,zoom = 15) %>%
#Land Use, Vacant Land
addPolygons(data = land_use,stroke = F,fill = T,
fillColor = ~color,fillOpacity = 1,group = "Land Use") %>%
addPolygons(data = vacant_land,stroke = F,fill = T,
fillColor = ~color,fillOpacity = 1,group = "Vacant Land") %>%
#Base
addCircles(data = garfield_point,stroke = T,weight = 2,color = "#FFFFFF",
radius = 25,fill = T,fillOpacity = 1,fillColor = "#38A800") %>%
addPolylines(data = garfield_line,stroke = T,weight = 5,color = "#38A800") %>%
addPolygons(data = garfield_clip,stroke = T,weight = 2,color = "#FFFFFF",fill = F) %>%
#Violent Crime
addPolygons(data = violent_crime_hot_spot,stroke = T,weight = 1,color = "#000000",
fill = T,fillColor = ~color,fillOpacity = 1,group = "Violent Crime - Hot Spot") %>%
addLabelOnlyMarkers(data = vc_centers,lng = ~x, lat = ~y, label = ~label,group = "Violent Crime - Hot Spot",
labelOptions = labelOptions(noHide = T,direction = "middle",textOnly = T)) %>%
#Legend
#addLegend(land_use,group = "Land Use",position = "bottomright") %>%
#Layers control
addLayersControl(overlayGroups = c("Land Use", "Vacant Land","Violent Crime - Hot Spot"),
options = layersControlOptions(collapsed = F))
map_widget <- leaflet() %>%
addProviderTiles("CartoDB.DarkMatter") %>%
setView(lng = -87.618431,lat = 41.794871,zoom = 15) %>%
#Land Use, Vacant Land
addPolygons(data = land_use,stroke = F,fill = T,
fillColor = ~color,fillOpacity = 1,group = "Land Use") %>%
addPolygons(data = vacant_land,stroke = F,fill = T,
fillColor = ~color,fillOpacity = 1,group = "Vacant Land") %>%
#Base
addCircles(data = garfield_point,stroke = T,weight = 2,color = "#FFFFFF",
radius = 25,fill = T,fillOpacity = 1,fillColor = "#38A800") %>%
addPolylines(data = garfield_line,stroke = T,weight = 5,color = "#38A800") %>%
addPolygons(data = garfield_clip,stroke = T,weight = 2,color = "#FFFFFF",fill = F) %>%
#Violent Crime
addPolygons(data = violent_crime_hot_spot,stroke = T,weight = 1,color = "#000000",
fill = T,fillColor = ~color,fillOpacity = 1,group = "Violent Crime - Hot Spot") %>%
addLabelOnlyMarkers(data = vc_centers,lng = ~x, lat = ~y, label = ~label,group = "Violent Crime - Hot Spot",
labelOptions = labelOptions(noHide = T,direction = "center",textOnly = T)) %>%
#Legend
#addLegend(land_use,group = "Land Use",position = "bottomright") %>%
#Layers control
addLayersControl(overlayGroups = c("Land Use", "Vacant Land","Violent Crime - Hot Spot"),
options = layersControlOptions(collapsed = F))
map_widget
zoning <- st_read(paste0(shppath,"/Zoning/Chicago_Zoning_Project.shp")) %>%
st_transform(crs = 4326)
#Zoning, Business Licenses
zoning <- st_read(paste0(shppath,"/Zoning/Chicago_Zoning_Clip.shp")) %>%
st_transform(crs = 4326)
View(zoning)
library(tidyverse);library(sf)
library(tidyverse);library(sf);library(mapview)
#Create bounding box
st_bbox(c(xmin = -87.696217,xmax = -87.666054,ymax = 41.875012,ymin = 41.852318),crs = st_crs(4326))
#Create bounding box
area <- st_bbox(c(xmin = -87.696217,xmax = -87.666054,ymax = 41.875012,ymin = 41.852318),crs = st_crs(4326))
mapview(area)
st_write(obj = area,"study_area.shp")
area2 <- st_as_sf(area)
area2 <- st_as_sfc(area)
st_write(obj = area2,"study_area.shp")
st_write(obj = area2,"E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Data/Study Area/study_area.shp")
area_up <- st_sfc(st_polygon(list(cbind(c(41.874965,-87.696153),
c(41.851906,-87.695440),
c(41.852348,-87.665982),
c(41.875209,-87.666510)))))
st_polygon(list(cbind(c(41.874965,-87.696153),
c(41.851906,-87.695440),
c(41.852348,-87.665982),
c(41.875209,-87.666510))))
tibble(lon = c(-87.696153,-87.695440,-87.665982,-87.666510),
lat = c(41.874965,41.851906,41.852348,41.875209))
four_corners <- tibble(lon = c(-87.696153,-87.695440,-87.665982,-87.666510),
lat = c(41.874965,41.851906,41.852348,41.875209))
area_up <- st_sf(st_sfc(st_polygon(list(as.matrix(four_corners)))),crs = 4326)
install.packages("writexl")
install.packages(c("animation", "backports", "BH", "blogdown", "bookdown", "broom", "callr", "classInt", "cli", "clipr", "coda", "colorspace", "curl", "dbplyr", "deldir", "devtools", "digest", "dplyr", "DT", "e1071", "evaluate", "expm", "fansi", "geojson", "gganimate", "ggmap", "ggspatial", "git2r", "haven", "hrbrthemes", "htmlwidgets", "httpuv", "httr", "installr", "jqr", "jsonlite", "kableExtra", "knitr", "later", "lwgeom", "magick", "maptools", "mapview", "markdown", "mime", "NLP", "openssl", "pdftools", "pillar", "processx", "ps", "psych", "purrr", "R6", "raster", "Rcpp", "readr", "readxl", "remotes", "reprex", "rgdal", "rgeos", "RgoogleMaps", "rlang", "rmapshaper", "rmarkdown", "rstudioapi", "servr", "sf", "shiny", "slam", "spData", "stars", "stringi", "testthat", "tibble", "tidycensus", "tidyr", "tidyselect", "tinytex", "tm", "tmap", "units", "webshot", "xfun", "xtable", "zoo"))
library(tidyverse);library(readxl);library(writexl)
path <- "E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Data/"
#Load
ACS_17_5YR_S0601 <- read_csv(path = paste0(path,"ACS_17_5YR_S0601/ACS_17_5YR_S0601_with_ann.csv"))
ACS_17_5YR_S0802 <- read_csv(path = paste0(path,"ACS_17_5YR_S0802/ACS_17_5YR_S0802_with_ann.csv"))
ACS_17_5YR_S2504 <- read_csv(path = paste0(path,"ACS_17_5YR_S2504/ACS_17_5YR_S2504_with_ann.csv"))
ACS_17_5YR_DP03 <- read_csv(path = paste0(path,"ACS_17_5YR_DP03/ACS_17_5YR_DP03_with_ann.csv"))
install.packages("tidyverse")
library(tidyverse);library(readxl);library(writexl)
path <- "E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Data/"
#Load
ACS_17_5YR_S0601 <- read_csv(path = paste0(path,"ACS_17_5YR_S0601/ACS_17_5YR_S0601_with_ann.csv"))
ACS_17_5YR_S0802 <- read_csv(path = paste0(path,"ACS_17_5YR_S0802/ACS_17_5YR_S0802_with_ann.csv"))
ACS_17_5YR_S2504 <- read_csv(path = paste0(path,"ACS_17_5YR_S2504/ACS_17_5YR_S2504_with_ann.csv"))
ACS_17_5YR_DP03 <- read_csv(path = paste0(path,"ACS_17_5YR_DP03/ACS_17_5YR_DP03_with_ann.csv"))
library(tidyverse);library(readxl);library(writexl)
path <- "E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Data/"
#Load
ACS_17_5YR_S0601 <- read_csv(file = paste0(path,"ACS_17_5YR_S0601/ACS_17_5YR_S0601_with_ann.csv"))
ACS_17_5YR_S0802 <- read_csv(file = paste0(path,"ACS_17_5YR_S0802/ACS_17_5YR_S0802_with_ann.csv"))
ACS_17_5YR_S2504 <- read_csv(file = paste0(path,"ACS_17_5YR_S2504/ACS_17_5YR_S2504_with_ann.csv"))
ACS_17_5YR_DP03 <- read_csv(file = paste0(path,"ACS_17_5YR_DP03/ACS_17_5YR_DP03_with_ann.csv"))
View(ACS_17_5YR_S2504)
ACS_17_5YR_S0601 %>% select(C(1:3),matches("_EST_"))
ACS_17_5YR_S0601 %>% select(c(1:3),matches("_EST_"))
ACS_17_5YR_S0601_MOE <- ACS_17_5YR_S0601 %>% select(c(1:3),matches("_EST_"))
ACS_17_5YR_S0802_MOE <- ACS_17_5YR_S0802 %>% select(c(1:3),matches("_EST_"))
ACS_17_5YR_S2504_MOE <- ACS_17_5YR_S2504 %>% select(c(1:3),matches("_EST_"))
ACS_17_5YR_DP03_MOE <-  ACS_17_5YR_DP03 %>% select(c(1:3),matches("_EST_"))
View(ACS_17_5YR_DP03)
library(tidyverse);library(readxl);library(writexl)
path <- "E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Data/"
#Load
ACS_17_5YR_S0601 <- read_csv(file = paste0(path,"ACS_17_5YR_S0601/ACS_17_5YR_S0601_with_ann.csv"))
ACS_17_5YR_S0802 <- read_csv(file = paste0(path,"ACS_17_5YR_S0802/ACS_17_5YR_S0802_with_ann.csv"))
ACS_17_5YR_S2504 <- read_csv(file = paste0(path,"ACS_17_5YR_S2504/ACS_17_5YR_S2504_with_ann.csv"))
ACS_17_5YR_DP03 <- read_csv(file = paste0(path,"ACS_17_5YR_DP03/ACS_17_5YR_DP03_with_ann.csv"))
#Remove MOEs
ACS_17_5YR_S0601_MOE <- ACS_17_5YR_S0601 %>% select(c(1:3),matches("_EST_"))
ACS_17_5YR_S0802_MOE <- ACS_17_5YR_S0802 %>% select(c(1:3),matches("_EST_"))
ACS_17_5YR_S2504_MOE <- ACS_17_5YR_S2504 %>% select(c(1:3),matches("_EST_"))
ACS_17_5YR_DP03[1,]
ACS_17_5YR_DP03[1,] %>%
rownames_to_column
ACS_17_5YR_DP03[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value)
ACS_17_5YR_DP03[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`)
ACS_17_5YR_DP03[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = ann,pattern = "Geography|Id|Id2|Estimate:"))
ACS_17_5YR_DP03[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = ann,pattern = "Geography|Id|Id2|Estimate:*"))
ACS_17_5YR_DP03[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = ann,pattern = "Geography|Id|Id2|Estimate*"))
#DP03 bullshit
DP03_cols <- ACS_17_5YR_DP03[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = ann,pattern = "Geography|Id|Id2|Estimate*"))
ACS_17_5YR_DP03_MOE <-  ACS_17_5YR_DP03 %>% select(one_of(DP03_cols$column))
ACS_17_5YR_S0802_MOE
View(ACS_17_5YR_S0802_MOE)
library(tidyverse);library(readxl);library(writexl)
path <- "E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Data/"
#Load
S0601 <- read_csv(file = paste0(path,"ACS_17_5YR_S0601/ACS_17_5YR_S0601_with_ann.csv"))
S0802 <- read_csv(file = paste0(path,"ACS_17_5YR_S0802/ACS_17_5YR_S0802_with_ann.csv"))
S2504 <- read_csv(file = paste0(path,"ACS_17_5YR_S2504/ACS_17_5YR_S2504_with_ann.csv"))
DP03 <- read_csv(file = paste0(path,"ACS_17_5YR_DP03/ACS_17_5YR_DP03_with_ann.csv"))
#Remove MOEs
S0601_MOE <- S0601 %>% select(c(1:3),matches("_EST_"))
S0802_MOE <- S0802 %>% select(c(1:3),matches("_EST_"))
S2504_MOE <- S2504 %>% select(c(1:3),matches("_EST_"))
#DP03 bullshit
DP03_cols <- DP03[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = ann,pattern = "Geography|Id|Id2|Estimate*"))
DP03_MOE <-  DP03 %>% select(one_of(DP03_cols$column))
library(tidyverse);library(readxl);library(writexl)
path <- "E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Data/"
#Load
S0601 <- read_csv(file = paste0(path,"ACS_17_5YR_S0601/ACS_17_5YR_S0601_with_ann.csv"))
S0802 <- read_csv(file = paste0(path,"ACS_17_5YR_S0802/ACS_17_5YR_S0802_with_ann.csv"))
S2504 <- read_csv(file = paste0(path,"ACS_17_5YR_S2504/ACS_17_5YR_S2504_with_ann.csv"))
DP03 <- read_csv(file = paste0(path,"ACS_17_5YR_DP03/ACS_17_5YR_DP03_with_ann.csv"))
#Remove MOEs
MOE_S0601 <- S0601 %>% select(c(1:3),matches("_EST_"))
MOE_S0802 <- S0802 %>% select(c(1:3),matches("_EST_"))
MOE_S2504 <- S2504 %>% select(c(1:3),matches("_EST_"))
#DP03 bullshit
DP03_cols <- DP03[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = ann,pattern = "Geography|Id|Id2|Estimate*"))
MOE_DP03 <-  DP03 %>% select(one_of(DP03_cols$column))
source('E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Data/Remove_MOEs.R', echo=TRUE)
View(EST_S0802)
S0802_cols <- EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`)
View(S0802_cols)
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC3*|HC01_EST_VC4*|HC01_EST_VC6*|HC01_EST_VC7*|"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC3*|HC01_EST_VC4*|HC01_EST_VC6*|HC01_EST_VC7*|"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = var,
pattern = "HC01_EST_VC3*|HC01_EST_VC4*|HC01_EST_VC6*|HC01_EST_VC7*|"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC3*|HC01_EST_VC4*|HC01_EST_VC6*|HC01_EST_VC7*|"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC3*|HC01_EST_VC4*|HC01_EST_VC6*|HC01_EST_VC7*|")) %>%
head()
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC[346789]*"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC_(3|4|6|7|8|9)*"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC_[3]*"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC_3*"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC3*"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "$HC01_EST_VC3"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC3*"))
S0802_cols <- EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC3*"))
S0802_cols <- EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`)
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01\\_EST\\_VC3*"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC3*"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC3[digit]"))
S0802_cols <- EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`)
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC3"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC01_EST_VC[346789]"))
S0802_cols <- EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`)
S0802_cols <- EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC0[1234]_EST_VC[346789]"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(-str_detect(string = column,
pattern = "HC0[1234]_EST_VC[346789]"))
EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC0[1234]_EST_VC[346789]")==F)
S0802_cols <- EST_S0802[1,] %>%
rownames_to_column %>%
gather(var,value,-rowname) %>%
spread(rowname,value) %>%
rename(column = var,ann = `1`) %>%
filter(str_detect(string = column,
pattern = "HC0[1234]_EST_VC[346789]")==F)
install.packages("rmapzen")
library(rmapzen);library(tidyverse);library(sf)
sub_areas <- st_read(dsn = paste0(path, "../../Geodatabase/UPP_506.gdb"), layer = "SAs Merge")
path <- "E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Maps/Transit_Accessibility"
sub_areas <- st_read(dsn = paste0(path, "../../Geodatabase/UPP_506.gdb"), layer = "SAs Merge")
path <- "E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Maps/Transit_Accessibility/"
sub_areas <- st_read(dsn = paste0(path, "../../Geodatabase/UPP_506.gdb"), layer = "SAs Merge")
sub_areas <- st_read(dsn = paste0(path, "../../Geodatabase/UPP_506.gdb"), layer = "SAs_Merge")
plot(sub_areas)
sub_centers <- st_centroid(sub_areas)
plot(sub_centers)
plot(sub_areas)
plot(sub_centers)
sub_centers
#Isochrones
mz_location(sub_centers)
#Isochrones
mz_location(lat = sub_centers$Lat)
source('E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Maps/Transit_Accessibility/Isochrones.R', echo=TRUE)
#Isochrones
sub_centers %>%
as_tibble() %>%
select(Lat,Long,Name)
sub_centers %>%
st_transform(4326) %>%
as_tibble() %>%
select(Lat,Long,Name)
sub_areas %>%
st_transform(4326) %>%
st_centroid()
as_tibble() %>%
select(Lat,Long,Name)
sub_areas %>%
st_transform(4326) %>%
st_centroid() %>%
as_tibble() %>%
select(Lat,Long,Name)
sub_areas %>%
st_transform(4326) %>%
st_centroid()
#Centroids
sub_centers <- st_centroid(sub_areas)
sub_centers %>%
as_tibble() %>%
select(Lat,Long,Name)
sub_centers
sub_centers %>%
st_centroid()
sub_centers %>%
st_transform(4326)
sub_centers %>%
st_transform(4326) %>%
st_coordinates()
sub_centers %>%
st_transform(4326) %>%
st_coordinates("Long" = X, "Lat" = Y)
sub_centers %>%
st_transform(4326) %>%
st_coordinates() %>%
select("Long" = X, "Lat" = Y)
sub_centers %>%
st_transform(4326) %>%
st_coordinates() %>%
as_tibble() %>%
select("Long" = X, "Lat" = Y)
xy_df <- sub_centers %>%
st_transform(4326) %>%
st_coordinates() %>%
as_tibble() %>%
select("Long" = X, "Lat" = Y)
xy_prep <- xy_prep[1]
xy_prep <- xy_df[1]
xy_prep <- xy_df[,1]
xy_prep <- xy_df[1,]
xy_prep <- mz_location(xy_df[1,])
xy_prep <- mz_location(xy_df[1,] %>% mutate_all(as.numeric))
xy_df[1,]
xy_prep <- mz_location(lon = xy_df %>% select(Long) %>% head(1),
lat = xy_df %>% select(Lat) >% head(1))
xy_prep <- mz_location(lon = xy_df %>% select(Long) %>% head(1),
lat = xy_df %>% select(Lat) %>% head(1))
lat = xy_df %>% select(Lat) %>% head(1)
View(lat)
lon_1 <- xy_df %>% select(Long) %>% head(1)
lat_1 <- xy_df %>% select(Lat) %>% head(1)
xy_prep <- mz_location(lat = lat_1, lon = lon_1)
xy_prep <- mz_location("Chicago, IL")
source('E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Maps/Transit_Accessibility/Isochrones.R', echo=TRUE)
st_write(dsn = "Centroids_R.shp")
st_write(sub_centers, dsn = "Centroids_R.shp")
knitr::opts_chunk$set(echo = T)
library(hrbrthemes);library(tidyverse)
library(stringr);library(lubridate)
library(magick)
options(scipen = 1000,stringsAsFactors = F)
setwd("E:/UIC/2019-01 (Spring)/UPP 506 - Plan Making Studio/Maps/Land_Use_Time")
#=============
#Import data
#=============
# Grab images and make GIF
land_use_time_gif <- list.files(pattern = ".*Land_Use_\\d{4}.png",
recursive = TRUE,
full.names = TRUE) %>%
map(image_read) %>%
image_join() %>%
image_crop("2000x") %>%
image_animate(fps = .5) %>%
image_write("Land_Use_Time.gif")
getwd()
list.files
list.files()
setwd("E:/GitHubBlog")
list.files()
setwd("E:/GitHubBlog/blogdown_source")
blogdown::serve_site()
blogdown::build_site()
blogdown::build_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::build_site()
